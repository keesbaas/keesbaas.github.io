
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    
    
    <title>isle royale</title>
    
    <link rel="stylesheet" href="style2.css"> <!-- Links your styles -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Leaflet CSS -->
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
/>

  
<style>
  
</style>

</head>
<body>
    <header>

        
        <h1>isle royale</h1>
            <a href="index.html" class="fade-link">back</a>
    
            <style>

            </style>
    </header>
    
    <!-- Zion hike map -->
<div class="map-text-container">
    <div id="map"></div>
    <div class="right-text">
        
        <p>2022! Matt, Ian, and I went out to Isle Royale and backpacked a mix of the Minong and Greenstone Ridge trails. I flew in to Grand Rapids and landed stupid late, then we got up stupid early and drove the ~9 hours up to Houghton. I don't remember if it was before or after the backpacking but we stopped at Suomi for breakfast and it was delectable. And so cheap! No doubt we stopped at Muldoon's pasties (or is it pasties?) at some point too. I'm getting sidetracked. There's a fairy that takes about 5 hours to shuttle you over to the island, or you can take a sea plane which is a ~30 minute flight. So we went sea plane. Seemed like it'd be a cool job, or maybe it'd ruin flying for you, I don't know. When we boarded we had to weigh our bags which felt like a fun little competition (I think Matt absolutely crushed us). </p>    
        <br>
        <p>10/10 trip, probably my favorite place I've ever been. Wildly remote, there was a survey from students at like, Montana State University? And there was a little fire watch tower that we met some nice folks at. AND there was an ARSON on the island like, right after we were there. Can't believe I forgot about that. But ya, super cool place, would reccommend.</p>
    </div>
</div>

<!-- Container where JS will populate rows -->
<div class="album-container" id="album-container"></div>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<!-- Leaflet GPX plugin -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.7.0/gpx.min.js"></script>



<script>
  const map = L.map('map').setView([48.01521337568915, -88.85357011718955], 9); // 48.01521337568915, -88.85357011718955 Isle Royale coordinates


  // L.tileLayer(
  //   'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
  //   { attribution: 'Esri' }
  // ).addTo(map);

    // --- Esri basemaps ---

const esriImagery = L.tileLayer(
  'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
  { attribution: 'Esri' }
);

const esriTopo = L.tileLayer(
  'https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}',
  { attribution: 'Esri' }
);

// Labels (shared overlay)
const esriLabels = L.tileLayer(
  'https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}',
  { attribution: 'Esri' }
);

    esriImagery.addTo(map);
esriLabels.addTo(map);

const baseMaps = {
  "Satellite": esriImagery,
  "Topo": esriTopo
};

const overlays = {
  "Labels": esriLabels
};

L.control.layers(baseMaps, overlays, {
  position: 'topright',
  collapsed: true
}).addTo(map);


//     const esriLabels = L.tileLayer(
//   'https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}',
//   { minZoom: 6 }
// );



// // Labels + roads overlay
// L.tileLayer(
//   'https://server.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}',
//   { attribution: 'Esri' }
// ).addTo(map);

// Load Zion park boundary - Loads all boundaries, should be alright
fetch('visited_parks.geojson')
  .then(response => response.json())
  .then(data => {
    L.geoJSON(data, {
      style: {
        color: '#ffffff',    // border color
        weight: 2,
        fillColor: '#ffffff', // semi-transparent fill
        fillOpacity: 0.2
      }
    }).addTo(map);
  })
  .catch(err => console.error('Failed to load boundary geojson:', err));

    // CHANGE GPX FILE

  new L.GPX('Minong.gpx', {
  async: true,
  polyline_options: {
    color: '#000000',
    weight: 7,      // slightly thicker
    opacity: 0.8
  },
  marker_options: {
    startIconUrl: null,
    endIconUrl: null,
    shadowUrl: null
  }
}).addTo(map);

  new L.GPX('Greenstone.gpx', {
  async: true,
  polyline_options: {
    color: '#000000',
    weight: 7,      // slightly thicker
    opacity: 0.8
  },
  marker_options: {
    startIconUrl: null,
    endIconUrl: null,
    shadowUrl: null
  }
}).addTo(map);

  new L.GPX('Minong.gpx', {    
    async: true,
    polyline_options: {
      color: '#FFF175',
      weight: 4,
      opacity: 0.9
    },
    
    marker_options: {
      startIconUrl: null,   // no start marker
      endIconUrl: null,     // no end marker
      shadowUrl: null
    
  
    }
  })
    .addTo(map);

      new L.GPX('Greenstone.gpx', {    
    async: true,
    polyline_options: {
      color: '#FFB99A',
      weight: 4,
      opacity: 0.9
    },
    
    marker_options: {
      startIconUrl: null,   // no start marker
      endIconUrl: null,     // no end marker
      shadowUrl: null
    
  
    }
  })
    
  .on('loaded', function(e) {
    // map.fitBounds(e.target.getBounds(), { padding: [20, 20] });
  })
  .on('error', function(err){
    console.error('Failed to load GPX:', err);
  })
  .addTo(map);

const blackTriangle = L.divIcon({
    className: '', // no default styles
    html: '<div style="width: 0; height: 0; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid white;"></div>',
    iconSize: [10, 10],
    iconAnchor: [5, 10] // point the tip at the location
});



    
  // Add photo markers along the route - CHANGE WITH NEW LAT-LONG AND PICS
  const photos = [
    
    { id: 3, lat: 48.146117248886675, lng: -88.48490093797757, caption: "Rock Harbor" }, // Rock Harbor 48.146117248886675, -88.48490093797757
    { id: 0, lat: 48.15585423509342, lng: -88.47372561657268, caption: "Canoeing by RH" }, // Canoeing by RH 48.15585423509342, -88.47372561657268
    { id: 2, lat: 47.98143929716328, lng: -88.99437444674166, caption: "Lake Desor" }, // Lake Desor 47.98143929716328, -88.99437444674166
    { id: 6, lat: 48.162997315413094, lng: -88.45039425621806, caption: "Scoville Point" }, // Scoville Point 48.162997315413094, -88.45039425621806
    { id: 5, lat: 48.16225834469584, lng: -88.4532208788726, caption: "Scoville Trail" }, // Scoville Trail 48.16225834469584, -88.4532208788726
    { id: 4, lat: 48.051265689491, lng: -88.82213762752119, caption: "Todd Harbor" }, // Todd Harbor 48.051265689491, -88.82213762752119
    { id: 1, lat: 48.08204706031038, lng: -88.73321158856898, caption: "Along the Minong" }, // Along the Minong 48.08204706031038, -88.73321158856898
    { id: 7, lat: 48.121843951769634, lng: -88.53331442504357, caption: "Along Greenstone" } // Along Greenstone 48.121843951769634, -88.53331442504357
    // ...add more with correct lat/lng and your album index
  ];

  photos.forEach(photo => {
    const marker = L.marker([photo.lat, photo.lng], {
      title: photo.caption,
        icon: blackTriangle
    }).addTo(map);

       marker.bindTooltip(photo.caption, {
    permanent: true,       // always visible
    direction: 'top',      // position above marker
    offset: [10, -10],     // x (right), y (up) in pixels
    className: 'photo-label-text',  // optional CSS class for styling
    interactive: true  
       });

    marker.on('tooltipopen', () => {
  const tooltipEl = marker.getTooltip().getElement();
  if (!tooltipEl) return;

  tooltipEl.addEventListener('click', () => {
    const photoRow = document.querySelectorAll('.photo-row')[photo.id];
    if (photoRow) {
      photoRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
  });
});


    marker.on('click', () => {
      // Scroll to the photo in your album
      const photoRow = document.querySelectorAll('.photo-row')[photo.id];
      if(photoRow){
        photoRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }
    });
  });
</script>

    
<!-- <script>
  // Initialize map centered on Zion
  const map = L.map('map').setView([37.2982, -113.0263], 13);

  // ESRI World Imagery basemap
  L.tileLayer(
    'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',
    { attribution: 'Esri' }
  ).addTo(map);

  // Load and animate GPX trail
  new L.GPX('ZionTraverse.gpx', {
    async: true,
    polyline_options: {
      color: '#00E5FF',
      weight: 4,
      opacity: 0.9
    },
    marker_options: {
      startIcon: null,   // remove start marker
      endIcon: null,     // remove end marker
      shadow: null
    }
  })
  .on('loaded', function(e) {
    // Loop through all layers (tracks) in the GPX file
    e.target.getLayers().forEach(polyline => {
      if (polyline instanceof L.Polyline) {
        const latlngs = polyline.getLatLngs();

        // Zoom map to bounds of this track
        map.fitBounds(polyline.getBounds(), { padding: [20, 20] });

        // Animate drawing
        polyline.setLatLngs([]); // start with empty line
        let i = 0;
        const drawInterval = setInterval(() => {
          if (i < latlngs.length) {
            polyline.addLatLng(latlngs[i]);
            i++;
          } else {
            clearInterval(drawInterval);
          }
        }, 25); // adjust speed here (ms per point)
      }
    });
  })
  .on('error', function(err){
    console.error('Failed to load GPX:', err);
  })
  .addTo(map);
</script> -->


    
<script>
  const container = document.getElementById('album-container');

  // Load photo data from JSON - NEED TO CHANGE JSON FILE TO HAVE CORRECT PHOTOS
  fetch('isleRoyale.json')
    .then(response => response.json())
    .then(photos => {
      photos.forEach(photo => {
        const row = document.createElement('div');
        row.className = 'photo-row';

        // Link to high-res
        const link = document.createElement('a');
        link.href = photo.highres;
        link.target = "_blank";

        // Image
        const img = document.createElement('img');
        img.src = photo.src;
        img.alt = photo.caption;
        img.loading = "eager";  // ensures image loads right away

        link.appendChild(img);

        // Caption
        const p = document.createElement('p');
        p.textContent = photo.caption;

        // Append to row
        row.appendChild(link);
        row.appendChild(p);
        container.appendChild(row);
      });

      // Fade-in on scroll
      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.2 });

      document.querySelectorAll('.photo-row').forEach(row => observer.observe(row));
    })
    .catch(err => console.error('Failed to load photos.json:', err));
</script>

</body>
</html>
